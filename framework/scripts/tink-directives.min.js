/*! Tink v1.0.1 */"use strict";angular.module("tink.accordion",[]),angular.module("tink.accordion").directive("tinkAccordion",["tinkApi",function(tinkApi){return{restrict:"EA",controller:"TinkAccordionController",transclude:!0,replace:!1,scope:{startOpen:"=",oneAtATime:"="},template:'<div class="panel-group" ng-transclude></div>',link:function(scope,element,attrs,accordionCtrl){var options={};angular.forEach(["oneAtATime","startOpen"],function(key){angular.isDefined(attrs[key])&&(options[key]="boolean"==typeof scope[key]?scope[key]:"true"===attrs[key])});var accordionElem=tinkApi.accordion(element);accordionCtrl.init(accordionElem,element,options)}}}]).directive("tinkAccordionGroup",function(){return{require:"^tinkAccordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"templates/tinkAccordionGroup.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?",onclick:"=?",isCollapsed:"="},link:function(scope,element,attrs,accordionCtrl){var trackToggle,states={closed:1,open:2,loading:0},state=states.closed,onFunc="function"==typeof scope.onclick;onFunc||element.addClass("no-call-back"),scope.toggleOpen=function(){state===states.closed?onFunc?scope.loading():scope.open():state===states.open?scope.close():state===states.loading&&scope.cancel()},attrs.isCollapsed&&(trackToggle="true"===attrs.isCollapsed||"false"===attrs.isCollapsed?!1:!0),trackToggle&&scope.$watch("isCollapsed",function(newVar){newVar===!0?stateClose():newVar===!1&&stateOpen()}),scope.open=function(){trackToggle?scope.isCollapsed=!1:stateOpen()},scope.close=function(){trackToggle?scope.isCollapsed=!0:stateClose()},scope.loading=function(){trackToggle?scope.isCollapsed=!1:stateLoad()},scope.cancel=function(){trackToggle?scope.isCollapsed=!0:cancelTrans()};var stateLoad=function(){state=states.loading,callback("loading",function(){state===states.loading&&stateOpen()}),accordionCtrl.openGroup(element,scope)},stateOpen=function(){!onFunc&&state===states.closed||onFunc&&state===states.loading?(state=states.open,accordionCtrl.openGroup(element,scope),callback("open")):onFunc&&state===states.closed&&stateLoad()},stateClose=function(){state===states.open?(state=states.closed,accordionCtrl.closeGroup(element),callback("closed")):state===states.canceld&&cancelTrans()},cancelTrans=function(){state=states.closed,accordionCtrl.closeGroup(element),callback("canceld")},callback=function(type,fn){onFunc&&scope.onclick(type,fn)};accordionCtrl.addGroup(scope,element)}}}).controller("TinkAccordionController",[function(){var self=this;this.groups={},this.init=function(accordion,element,opts){self.$accordion=accordion,self.$options=opts,self.$accordion.init(element)};var currentOpen;this.addGroup=function(scope,elem){self.$accordion.addGroup(elem),self.$options.startOpen&&scope.isCollapsed!==!0?scope.open():scope.isCollapsed===!1&&scope.open()},this.addLoader=function(elem){currentOpen=elem,self.$accordion.addLoader(elem)},this.openGroup=function(elem,scope){self.$options.oneAtATime&&currentOpen&&currentOpen!==scope&&currentOpen.toggleOpen(),currentOpen=scope,self.$accordion.openGroup(elem)},this.closeGroup=function(elem){self.$accordion.closeGroup(elem),currentOpen=null}}]),angular.module("tink.datepicker",[]).directive("tinkDatepicker",["$q","$templateCache","$http","$compile","dateCalculator","calView","safeApply","$window","$sce",function($q,$templateCache,$http,$compile,dateCalculator,calView,safeApply,$window,$sce){return{restrict:"E",require:["ngModel","?^form"],replace:!0,templateUrl:"templates/tinkDatePickerInput.html",scope:{ngModel:"=?",minDate:"=?",maxDate:"=?"},controller:function($scope,$attrs){$scope.dynamicName=$attrs.name,$scope.requiredVal=!1},compile:function(template,$attr){return $attr.required&&($attr.required=!1,template.find("input").attr("data-require",!0)),{pre:function(){},post:function(scope,element,attr){function bindLiseners(){copyEl.bind("mousedown",function(){return!1})}function setMode(mode){switch($directive.mode=mode>=0&&2>=mode?mode:0,$directive.pane={},$directive.mode){case 0:$directive.pane.month=1;break;case 1:$directive.pane.month=12;break;case 2:$directive.pane.year=12}}function checkBefore(date,before){if(!angular.isDate(date))return!1;if(!angular.isDate(before))return!1;var copyDate=new Date(date.getFullYear(),date.getMonth(),1),copyBefore=new Date(before.getFullYear(),before.getMonth(),1);return dateCalculator.dateBeforeOther(copyBefore,copyDate)?!0:!1}function checkAfter(date,after){if(!angular.isDate(date))return!1;if(!angular.isDate(after))return!1;var copyDate=new Date(date.getFullYear(),date.getMonth(),1,0,0,0),copyafter=new Date(after.getFullYear(),after.getMonth(),1,0,0,0);return dateCalculator.dateBeforeOther(copyafter,copyDate)&&copyafter.getTime()!==copyDate.getTime()?!1:!0}function haalTemplateOp(template){return fetchPromises[template]?fetchPromises[template]:fetchPromises[template]=$q.when($templateCache.get(template)||$http.get(template)).then(function(res){return angular.isObject(res)?($templateCache.put(template,res.data),res.data):res})}scope.opts=attr;var copyEl,input=element.find("div.faux-input"),clickable=element.find(".datepicker-icon"),content=element.find("div.faux-input");scope.$show=function(){copyEl=templateElem,copyEl.css({position:"absolute",display:"block"}),element.append(copyEl),bindLiseners(),$directive.pane.month=1,$directive.open=1,scope.build()},attr.trigger&&"focus"===attr.trigger&&input.bind("focus",function(){safeApply(scope,function(){scope.$show()})}),scope.$watch("ngModel",function(newVal){$directive.selectedDate=newVal,$directive.viewDate=newVal});var dayLabels=["ma","di","wo","do","vr","za","zo"];scope.labels=$sce.trustAsHtml("<th>"+dayLabels.join("</th><th>")+"</th>");var isDateSupported=function(){var i=document.createElement("input");return i.setAttribute("type","date"),"text"!==i.type},isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative&&isDateSupported();clickable.bind("mousedown touch",function(){return isTouch?(element.find("input[type=date]:first").focus(),element.find("input[type=date]:first").click()):safeApply(scope,function(){$directive.open?scope.hide():(scope.$show(),content.focus())}),!1});var options={yearTitleFormat:"mmmm yyyy",dateFormat:"dd/mm/yyyy"},$directive={viewDate:new Date,pane:{},open:0,mode:0,selectedDate:null};scope.$selectPane=function(value){$directive.viewDate=new Date(Date.UTC($directive.viewDate.getFullYear()+($directive.pane.year||0)*value,$directive.viewDate.getMonth()+($directive.pane.month||0)*value,1)),scope.build()},scope.$toggleMode=function(){$directive.mode>=0&&$directive.mode<=1?$directive.mode+=1:$directive.mode=0,setMode($directive.mode),scope.build()},scope.hide=function(){copyEl&&(copyEl.css({display:"none"}),$directive.open=0,copyEl=null)},scope.$select=function(date){$directive.viewDate=date,0===$directive.mode?(scope.ngModel=date,scope.hide(),setTimeout(function(){content.blur()},0)):$directive.mode>0&&($directive.mode-=1,setMode($directive.mode),scope.build())},content.blur(function(){scope.hide()}),scope.pane={prev:0,next:0},scope.build=function(){if((null===$directive.viewDate||void 0===$directive.viewDate)&&($directive.viewDate=new Date),checkBefore($directive.viewDate,scope.minDate)?(scope.pane.prev=1,$directive.viewDate=new Date(scope.minDate)):scope.pane.prev=0,checkAfter($directive.viewDate,scope.maxDate)?(scope.pane.next=1,$directive.viewDate=new Date(scope.maxDate)):scope.pane.next=0,1===$directive.mode&&(scope.title=dateCalculator.format($directive.viewDate,"yyyy"),scope.rows=calView.monthInRows($directive.viewDate,scope.minDate,scope.maxDate)),0===$directive.mode&&(scope.title=dateCalculator.format($directive.viewDate,options.yearTitleFormat),scope.rows=calView.daysInRows($directive.viewDate,$directive.selectedDate,scope.minDate,scope.maxDate)),2===$directive.mode){var currentYear=parseInt(dateCalculator.format($directive.viewDate,"yyyy"));scope.title=currentYear-11+"-"+currentYear,scope.rows=calView.yearInRows($directive.viewDate,scope.minDate,scope.maxDate)}};var templateElem,fetchPromises=[],promise=haalTemplateOp("templates/tinkDatePickerField.html");promise.then(function(template){angular.isObject(template)&&(template=template.data),templateElem=$compile(template),templateElem=templateElem(scope,function(){})})}}}}}]),angular.module("tink.datepickerRange",["tink.dateHelper","tink.safeApply"]).directive("tinkDatepickerRange",["$q","$templateCache","$http","calView","$sce","$compile","dateCalculator","$window","safeApply",function($q,$templateCache,$http,calView,$sce,$compile,dateCalculator,$window,safeApply){return{restrict:"E",replace:!0,priority:0,require:["?^form"],templateUrl:"templates/tinkDatePickerRangeInputs.html",controller:function($scope,$attrs){$scope.dynamicName=$attrs.name,$scope.requiredVal=angular.isDefined($attrs.required)?!0:!1},scope:{firstDate:"=?",lastDate:"=?",minDate:"=?",maxDate:"=?"},compile:function(template,$attr){return(""===$attr.required||"required"===$attr.required)&&(template.find("input:first").attr("data-require",!0),template.find("input:last").attr("data-require",!0)),$attr.name&&(template.find("input:first").attr("name",$attr.name),template.find("input:last").attr("name",$attr.name)),{pre:function(){},post:function(scope,element,attrs,form){function buildView(){checkBefore($directive.viewDate,scope.minDate)?(scope.pane.prev=1,$directive.viewDate=new Date(scope.minDate)):scope.pane.prev=0,checkAfter($directive.viewDate,scope.maxDate)?(scope.pane.next=1,$directive.viewDate=new Date(scope.maxDate)):scope.pane.next=0,$directive.tbody.firstDateElem=element.find("tbody")[0],$directive.tbody.lastDateElem=element.find("tbody")[1];var htmlFirst=calView.createMonthDays($directive.viewDate,scope.firstDate,scope.lastDate,"prevMonth",scope.minDate,scope.maxDate);angular.element($directive.tbody.firstDateElem).replaceWith($compile(htmlFirst)(scope));var copyViewDate=new Date($directive.viewDate);copyViewDate.setDate(5),copyViewDate.setMonth(copyViewDate.getMonth()+1),scope.firstTitle=dateCalculator.format($directive.viewDate,"mmmm yyyy"),scope.lastTitle=dateCalculator.format(copyViewDate,"mmmm yyyy");var htmlLast=calView.createMonthDays(copyViewDate,scope.firstDate,scope.lastDate,"nextMonth",scope.minDate,scope.maxDate);angular.element($directive.tbody.lastDateElem).replaceWith($compile(htmlLast)(scope))}function checkBefore(date,before){if(!angular.isDate(date))return!1;if(!angular.isDate(before))return!1;var copyDate=new Date(date.getFullYear(),date.getMonth(),1),copyBefore=new Date(before.getFullYear(),before.getMonth(),1);return dateCalculator.dateBeforeOther(copyBefore,copyDate)?!0:!1}function checkAfter(date,after){if(!angular.isDate(date))return!1;if(!angular.isDate(after))return!1;var copyDate=new Date(date.getFullYear(),date.getMonth(),1),copyafter=new Date(after.getFullYear(),after.getMonth(),1);return dateCalculator.dateBeforeOther(copyDate,copyafter)?!0:!1}function nextMonth(){$directive.viewDate.setDate(1),$directive.viewDate.setMonth($directive.viewDate.getMonth()+1),setViewDate($directive.viewDate)}function prevMonth(){$directive.viewDate.setDate(1),$directive.viewDate.setMonth($directive.viewDate.getMonth()-1),setViewDate($directive.viewDate)}function setViewDate(viewDate){if(angular.isDate(viewDate)&&null!==viewDate)if(angular.isDate(viewDate)){var hulpDate=new Date(viewDate.getTime());hulpDate.setDate(1),hulpDate.setMonth(hulpDate.getMonth()-1),dateCalculator.isSameMonth(viewDate,$directive.viewDate)||dateCalculator.isSameMonth(hulpDate,$directive.viewDate)||($directive.viewDate=new Date(viewDate)),buildView()}else console.logerror("Wrong date")}function haalTemplateOp(template){return fetchPromises[template]?fetchPromises[template]:fetchPromises[template]=$q.when($templateCache.get(template)||$http.get(template)).then(function(res){return angular.isObject(res)?($templateCache.put(template,res.data),res.data):res})}function init(){isTouch&&(config.dateFormat="yyyy-mm-dd",angular.element($directive.focused.firstDateElem).prop("type","date"),angular.element($directive.focused.lastDateElem).prop("type","date")),scope.dateFormat=config.dateFormat,bindEvents()}function checkValidity(){null===scope.firstDate&&null!==scope.lastDate?(first.$setValidity("date-required",!1),firstEl.removeClass(noErrorClass)):null!==scope.firstDate&&null===scope.lastDate?(last.$setValidity("date-required",!1),lastEl.removeClass(noErrorClass)):null===scope.firstDate&&null===scope.lastDate?angular.isDefined(attrs.required)?(first.$setValidity("date-required",!1),last.$setValidity("date-required",!1),firstEl.removeClass(noErrorClass),lastEl.removeClass(noErrorClass)):(first.$setValidity("date-required",!0),last.$setValidity("date-required",!0),firstEl.addClass(noErrorClass),lastEl.addClass(noErrorClass)):null!==scope.firstDate&&null!==scope.lastDate&&(first.$setValidity("date-required",!0),last.$setValidity("date-required",!0),firstEl.addClass(noErrorClass),lastEl.addClass(noErrorClass)),first.$error.date&&(first.$setValidity("date-required",!0),firstEl.addClass(noErrorClass)),last.$error.date&&(last.$setValidity("date-required",!0),lastEl.addClass(noErrorClass))}function $onMouseDown(evt){if(evt.target.isContentEditable?(evt.target.focus(),isTouch&&(evt.preventDefault(),evt.stopPropagation())):(evt.preventDefault(),evt.stopPropagation()),isTouch){var targetEl=angular.element(evt.target);"button"!==targetEl[0].nodeName.toLowerCase()&&(targetEl=targetEl.parent()),targetEl.triggerHandler("click")}}function hide(){templateElem.css({display:"none"}),$directive.open=!1,$directive.focusedModel=null,safeApply(scope,function(){})}function bindEvents(){isTouch||element.bind("touchstart mousedown",$onMouseDown),angular.element($directive.focused.firstDateElem).bind("blur",hide),angular.element($directive.focused.lastDateElem).bind("blur",hide),angular.element($directive.focused.firstDateElem).bind("focus",function(){safeApply(scope,function(){$directive.focusedModel="firstDateElem",show()})}),angular.element($directive.focused.lastDateElem).bind("focus",function(){safeApply(scope,function(){$directive.focusedModel="lastDateElem",show()})})}function show(){$directive.open||(setViewDate(null!==$directive.focusedModel?"firstDateElem"===$directive.focusedModel&&angular.isDate(scope.firstDate)?scope.firstDate:"firstDateElem"===$directive.focusedModel&&angular.isDate(scope.lastDate)?scope.lastDate:"lastDateElem"===$directive.focusedModel&&angular.isDate(scope.lastDate)?scope.lastDate:"lastDateElem"===$directive.focusedModel&&angular.isDate(scope.firstDate)?scope.firstDate:new Date:new Date),$directive.open=!0,templateElem.css({display:"block"}))}var $directive={open:!1,focused:{firstDateElem:element.find("div[tink-format-input] div:first"),lastDateElem:element.find("div[tink-format-input] div:last")},elem:{},calendar:{first:element.find("span.datepicker-icon:first"),last:element.find("span.datepicker-icon:last")},tbody:{firstDateElem:null,lastDateElem:null},focusedModel:null,selectedDates:{first:scope.firstDate,last:scope.lastDate},valid:{firstDateElem:!1,lastDateElem:!1},mouse:0,viewDate:new Date,hardCodeFocus:!1};attrs.name&&form[0]&&(scope.ctrlconst=form[0][attrs.name]),$directive.calendar.first.on("click",function(){isTouch?element.find("input[type=date]:first").click():$directive.open&&"firstDateElem"===$directive.focusedModel?hide():$directive.focused.firstDateElem.focus()}),$directive.calendar.last.on("click",function(){isTouch?element.find("input[type=date]:last").click():$directive.open&&"lastDateElem"===$directive.focusedModel?hide():$directive.focused.lastDateElem.focus()});var isDateSupported=function(){var i=document.createElement("input");return i.setAttribute("type","date"),"text"!==i.type},isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative&&isDateSupported(),dayLabels=["ma","di","wo","do","vr","za","zo"];scope.dayLabels=$sce.trustAsHtml("<th>"+dayLabels.join("</th><th>")+"</th>"),scope.$watch("firstDate",function(){null!==scope.firstDate?($directive.focusedModel="firstDateElem",scope.$select(scope.firstDate,null,!0),buildView()):checkValidity()}),scope.$watch("lastDate",function(){null!==scope.lastDate?($directive.focusedModel="lastDateElem",scope.$select(scope.lastDate,null,!0),buildView()):checkValidity()});var config={dateFormat:"dd/mm/yyyy"},fetchPromises={};scope.pane={prev:0,next:0};var templateElem,first=element.find("#input:first").controller("ngModel"),last=element.find("#input:last").controller("ngModel"),promise=haalTemplateOp("templates/tinkDatePickerRange.html");promise.then(function(template){angular.isObject(template)&&(template=template.data),templateElem=$compile(template),templateElem=templateElem(scope,function(){}),templateElem.css({position:"absolute",display:"none"}),element.append(templateElem),init()}),scope.$select=function(el,format,hardcoded){angular.isDefined(format)||(format="yyyy/mm/dd");var date;date=angular.isDate(el)?el:dateCalculator.getDate(el,format),null!==$directive.focusedModel&&("firstDateElem"===$directive.focusedModel?(scope.firstDate=date,angular.isDate(scope.lastDate)?dateCalculator.dateBeforeOther(scope.firstDate,scope.lastDate)&&(scope.lastDate=null,hardcoded||setTimeout(function(){$directive.focused.lastDateElem.focus()},1)):hardcoded||setTimeout(function(){$directive.focused.lastDateElem.focus()},1)):"lastDateElem"===$directive.focusedModel&&(scope.lastDate=date,angular.isDate(scope.firstDate)?dateCalculator.dateBeforeOther(scope.lastDate,scope.firstDate)||(scope.firstDate=null,hardcoded||setTimeout(function(){$directive.focused.firstDateElem.focus()},1)):hardcoded||setTimeout(function(){$directive.focused.firstDateElem.focus()},1))),checkValidity()};var noErrorClass="hide-error",firstEl=$(element.find(".faux-input")[0]),lastEl=$(element.find(".faux-input")[1]);scope.$selectPane=function(value){value?nextMonth():prevMonth()},element.on("mouseleave",function(){$directive.mouse=0}),element.on("mouseenter",function(){$directive.mouse=1})}}}}}]).directive("dynamicName",function($compile,$parse){return{restrict:"A",terminal:!0,priority:1e5,link:function(scope,elem){var name=$parse(elem.attr("dynamic-name"))(scope);elem.removeAttr("dynamic-name"),elem.attr("name",name),$compile(elem)(scope)}}}),angular.module("tink.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("tinkDropdownService",["$document",function($document){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",escapeKeyBind)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",escapeKeyBind))};var closeDropdown=function(evt){if(openScope){var toggleElement=openScope.getToggleElement();evt&&toggleElement&&toggleElement[0].contains(evt.target)||openScope.$apply(function(){openScope.isOpen=!1})}},escapeKeyBind=function(evt){27===evt.which&&(openScope.focusToggleElement(),closeDropdown())}}]).controller("tinkDropdownController",["$scope","$attrs","$parse","dropdownConfig","tinkDropdownService","$animate",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate){var getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen,scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){$animate[isOpen?"addClass":"removeClass"](self.$element,openClass),isOpen?(scope.focusToggleElement(),dropdownService.open(scope)):dropdownService.close(scope),setIsOpen($scope,isOpen),angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),$scope.$on("$locationChangeSuccess",function(){scope.isOpen=!1}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("tinkDropdown",function(){return{controller:"tinkDropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive("tinkDropdownToggle",function(){return{require:"?^tinkDropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}}),angular.module("tink.dropupload",["ngLodash"]),angular.module("tink.dropupload").directive("tinkUpload",["$window","safeApply","UploadFile","lodash","tinkUploadService",function($window,safeApply,UploadFile,_,tinkUploadService){return{restrict:"A",replace:!0,transclude:!0,templateUrl:"templates/tinkUpload.html",scope:{ngModel:"=",fieldName:"@?",multiple:"=?",allowedTypes:"=?",maxFileSize:"@?",url:"@?",sendOptions:"=?"},compile:function(){return{pre:function(){},post:function(scope,elem){function addLisener(){elem.bind("dragenter",dragenter),elem.bind("dragleave",dragleave),elem.bind("dragover",dragover),elem.bind("drop",drop)}function dragenter(e){e.stopPropagation(),e.preventDefault(),elem.addClass("dragenter")}function dragleave(){elem.removeClass("dragenter")}function dragover(e){e.stopPropagation(),e.preventDefault(),elem.addClass("dragenter")}function drop(e){safeApply(scope,function(){elem.removeClass("dragenter");var files;if(e.type&&"drop"===e.type){e.stopPropagation(),e.preventDefault();var dt=e.originalEvent.dataTransfer;files=dt.files}else files=e;for(var i=0;i<files.length;i+=1){var file=new UploadFile(files[i]);config.multiple||null!==scope.files[0]&&scope.files[0]instanceof UploadFile&&(holding instanceof UploadFile&&(holding.cancel(),holding.remove(),_.pull(scope.ngModel,holding)),scope.message.hold=!0,holding=scope.files[0],holding.hold=!0),config.multiple?(scope.ngModel instanceof Array||(scope.ngModel=[]),scope.ngModel.unshift(file)):(scope.ngModel.length=0,scope.ngModel.push(file));var typeCheck=checkFileType(file),sizeCheck=checkFileSize(file);typeCheck&&sizeCheck?file.upload(scope.sendOptions).then(function(){},function(){file.error||(file.error={}),file.error.fail=!0},function(){}):(file.error||(file.error={}),typeCheck||(file.error.type=!0),sizeCheck||(file.error.size=!0))}})}function checkFileType(file){var mimeType=config.allowedTypes.mimeTypes,extention=config.allowedTypes.extensions,fileType=file.getFileMimeType(),fileEx=file.getFileExtension();return mimeType&&0!==mimeType.length&&_.isArray(mimeType)&&extention&&0!==extention.length&&_.isArray(extention)?_.indexOf(mimeType,fileType)>-1?_.indexOf(extention,fileEx)>-1?!0:!0:!1:!0}function checkFileSize(file){var fileSize=_.parseInt(file.getFileSize());if(!config.maxFileSize)return!0;if("number"==typeof config.maxFileSize)return 0===config.maxFileSize||fileSize<=config.maxFileSize?!0:!1;if("string"==typeof config.maxFileSize){var maxSize=_.parseInt(config.maxFileSize);return 0===maxSize||maxSize>=fileSize?!0:!1}return!0}var config={multiple:!0,removeFromServer:!0,allowedTypes:{mimeTypes:[],extensions:[]},maxFileSize:"0",url:void 0,options:{}};scope.message={};var holding=null;for(var key in config)void 0!==scope[key]&&(config[key]=scope[key]);config.url&&tinkUploadService.addUrls(config.url),scope.$watchCollection("ngModel",function(newVa){var removed=_.difference(scope.files,newVa),added=_.difference(newVa,scope.files);angular.forEach(removed,function(value){value instanceof UploadFile&&-1!==_.indexOf(scope.files,value)&&_.pull(scope.files,value)}),angular.forEach(added,function(value){value instanceof UploadFile&&(config.multiple?-1===_.indexOf(scope.files,value)&&scope.files.unshift(value):(scope.files.length=0,scope.files.unshift(value)))})},!0),scope.undo=function(){scope.files[0]&&(scope.files[0].cancel(),scope.files[0].remove(),_.pull(scope.ngModel,scope.files[0])),holding.hold=!1,scope.message={},scope.ngModel.length=0,scope.ngModel.push(holding),holding=null},void 0!==scope.ngModel&&(scope.ngModel=[]),scope.files=[],scope.del=function(index){scope.files[index].cancel(),scope.files[index].remove(),config.multiple?_.pull(scope.ngModel,scope.files[0]):scope.ngModel.length=0,_.pull(scope.ngModel,scope.files[0])},scope.browseFiles=function(){var dropzone=elem.find(".fileInput");dropzone.click()},scope.onFileSelect=function(files){drop(files)},addLisener()}}}}}]),angular.module("tink.format",[]).directive("tinkFormatInput",["dateCalculator","$window","safeApply",function(dateCalculator,$window,safeApply){return{restrict:"EA",replace:!0,priority:99,controller:"tinkFormatController",scope:{minDate:"=?",maxDate:"=?"},require:["tinkFormatInput","ngModel","?^form"],template:function(){var isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative;return isTouch?'<div><input id="input" class="faux-input" type="date"/><div>':'<div><div id="input" class="faux-input" contenteditable="true">{{placeholder}}</div></div>'},compile:function(template){return template.prop("type","date"),{pre:function(){},post:function(scope,elem,attr,ctrl){function validFormat(date,format){var dateObject;if(angular.isDefined(date)&&null!==date){if("string"==typeof date){if(10!==date.length)return!1;if(!isTouch&&!/^(?:(?:31(\/)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/.test(date))return!1;dateObject=dateCalculator.getDate(date,format)}else{if(!angular.isDate(date))return"function"==typeof date?validFormat(date(),format):!1;dateObject=date}return"Invalid Date"!==dateObject.toString()}}function checkValidity(value){var stringValue;stringValue=angular.isDate(value)?dateCalculator.format(value,dateformat):value,safeApply(scope,function(){angular.isDate(scope.minDate)&&(dateCalculator.dateBeforeOther(value,scope.minDate)?(ngControl.$setValidity("date-min",!0),errorElem.addClass(noErrorClass)):(ngControl.$setValidity("date-min",!1),errorElem.removeClass(noErrorClass))),angular.isDate(scope.maxDate)&&(dateCalculator.dateBeforeOther(scope.maxDate,value)?(ngControl.$setValidity("date-max",!0),errorElem.addClass(noErrorClass)):(ngControl.$setValidity("date-max",!1),errorElem.removeClass(noErrorClass))),validFormat(stringValue,dateformat)?(ngControl.$setValidity("date",!0),errorElem.addClass(noErrorClass),isRequired&&(ngControl.$setValidity("date-required",!0),errorElem.addClass(noErrorClass))):stringValue!==config.placeholder&&null!==stringValue?(ngControl.$setValidity("date",!1),ngControl.$setValidity("date-min",!0),ngControl.$setValidity("date-max",!0),errorElem.removeClass(noErrorClass),isRequired&&ngControl.$setValidity("date-required",!0)):(ngControl.$setValidity("date",!0),ngControl.$setValidity("date-min",!0),ngControl.$setValidity("date-max",!0),errorElem.addClass(noErrorClass),isRequired&&(ngControl.$setValidity("date-required",!1),errorElem.removeClass(noErrorClass)))})}var dateformat,isDateSupported=function(){var i=document.createElement("input");return i.setAttribute("type","date"),"text"!==i.type},isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative&&isDateSupported(),config={format:"00/00/0000",placeholder:"dd/mm/jjjj"};dateformat=isTouch?"yyyy-mm-dd":"dd/mm/yyyy";var element=elem.find("#input"),ngControl=ctrl[1],controller=ctrl[0],form=ctrl[2],prefix="";angular.isDefined(attr.validName)?setTimeout(function(){form&&attr.name&&"string"==typeof attr.name&&""!==attr.name&&safeApply(scope,function(){prefix=attr.validName,form.$removeControl(ngControl),ngControl.$name=prefix+attr.name,form.$addControl(ngControl)})},1):setTimeout(function(){safeApply(scope,function(){form&&form.$addControl(ngControl)})},1);var isRequired=function(){return"true"===attr.require?!0:!1}(),noErrorClass="hide-error",errorElem=$(elem.find(".faux-input")[0]);controller.init(element,config,form,ngControl),ngControl.$formatters.push(function(modelValue){if(!isTouch||isTouch&&""!==modelValue){if(angular.isDate(modelValue)){var date=dateCalculator.format(modelValue,dateformat);return controller.setValue(date,null,isTouch),checkValidity(modelValue),date}controller.setValue(null,null,isTouch)}else controller.setValue("",null,isTouch);checkValidity(modelValue)}),ngControl.$parsers.unshift(function(value){return isTouch&&""===value&&(value=element.val()),null===value||""===value?value:"string"==typeof value?(controller.setValue(value,null,isTouch),dateCalculator.getDate(value,dateformat)):null}),element.unbind("input").unbind("change"),element.bind("input change",function(){safeApply(scope,function(){})}),element.on("blur",function(){safeApply(scope,function(){var value;if(value=isTouch?element.val():controller.getValue(),value===config.placeholder)checkValidity(value);else{var date=dateCalculator.getDate(value,dateformat);checkValidity(null===date?value:date)}ngControl.$setViewValue(value),ngControl.$render()})})}}}}}]).controller("tinkFormatController",function($scope){function loadAll(){config=self.config,format=config.format,placeholder=config.placeholder,$scope.placeholder=placeholder,newVa=placeholder,self.element.bind("keydown",function(event){return keyDowned=self.getValue(),(91===event.which||92===event.which||93===event.which)&&(controlKey=1),(event.ctrlKey||event.metaKey)&&88===event.which?(setTimeout(function(){self.setValue(placeholder)},1),!0):8===event.which?(handleBackspace(),!1):46===event.which?(handleDelete(),!1):void 0}),self.element.bind("keyup",function(event){(91===event.which||92===event.which||93===event.which)&&(controlKey=0)}),self.element.bind("mousedown",function(){setTimeout(function(){placeholder===newVa&&setCursor(0)},1)}),self.element.bind("paste",function(e){var cursor=getCaretSelection();e.preventDefault();var text=(e.originalEvent||e).clipboardData.getData("text/plain");window.document.execCommand("insertText",!1,text),self.setValue(keyDowned);for(var i=0;i<text.length;i++)handleInput(text[i],cursor),cursor++}),self.element.keypress(function(event){if(!controlKey){var key=String.fromCharCode(event.which);return handleInput(key),!1}}),self.form}function handleInput(key,cur){var cursor,selection;if(cur?(cursor=cur.start,selection=cur.end):(cursor=getCaretSelection().start,selection=getCaretSelection().end),cursor>-1&&cursor<format.length)if("0"===format[cursor])charIs(key,"0")?(cursor!==selection&&(newVa=newVa.replaceRange(cursor,selection,placeholder)),newVa=newVa.replaceAt(cursor,key),cursor+=1):newVa=newVa.replaceRange(cursor,selection,placeholder);else{if(charIs(key,"0"))return void handleInput(key,{start:cursor+1,end:selection+1});cursor+=1}deleteVal=-1,self.setValue(newVa,cursor)}function handleBackspace(){var cursor=getCaretSelection();cursor.start===cursor.end&&cursor.start>0?(newVa=newVa.replaceAt(cursor.start-1,placeholder[cursor.start-1]),self.setValue(newVa,cursor.start-1)):(newVa=newVa.replaceRange(cursor.start,cursor.end,placeholder),self.setValue(newVa,cursor.start))}function handleDelete(){var cursor=getCaretSelection();if(cursor.start===cursor.end){for(var pos=cursor.start;placeholder[cursor.start]===newVa[cursor.start]&&cursor.start<placeholder.length-1;)cursor.start++;
newVa=newVa.replaceAt(cursor.start,placeholder[cursor.start]),self.setValue(newVa,pos)}else newVa=newVa.replaceRange(cursor.start,cursor.end,placeholder),self.setValue(newVa,cursor.start)}function valueToHtml(value){for(var html="",plHtml='<span class="placeholder">',plEHtml="</span>",open=0,i=0;i<placeholder.length;i++)placeholder[i]===value[i]?0===open?(html+=plHtml+value[i],open=1):1===open&&(html+=value[i]):1===open?(html+=plEHtml+value[i],open=0):html+=value[i];return 1===open&&(html+=plEHtml),html}function charIs(char,base){return char=char.trim(),"0"===base&&""!==char&&char>-1&&10>char?!0:!1}function getCaretSelection(){var caretOffset=0,element=self.element.get(0);element.focus();var sel,startOffset,doc=element.ownerDocument||element.document,win=doc.defaultView||doc.parentWindow;if("undefined"!=typeof win.getSelection){if(sel=win.getSelection(),sel.rangeCount>0){var range=win.getSelection().getRangeAt(0),preCaretRange=range.cloneRange();preCaretRange.selectNodeContents(element),preCaretRange.setEnd(range.endContainer,range.endOffset),caretOffset=preCaretRange.toString().length,startOffset=caretOffset-window.getSelection().toString().length}}else if((sel=doc.selection)&&"Control"!==sel.type){var textRange=sel.createRange(),preCaretTextRange=doc.body.createTextRange();preCaretTextRange.moveToElementText(element),preCaretTextRange.setEndPoint("EndToEnd",textRange),caretOffset=preCaretTextRange.text.length,startOffset=caretOffset-document.selection.createRange().text.length}return{start:startOffset,end:caretOffset}}function setCursor(cur){for(var el=self.element[0],range=document.createRange(),sel=window.getSelection(),lengths=0,chosenChild=0,i=0;i<self.element[0].childNodes.length;i++){var node=self.element[0].childNodes[i];"#text"===node.nodeName?(lengths+=node.length,chosenChild=node):(lengths+=node.childNodes[0].length,chosenChild=node.childNodes[0]),lengths>=cur&&(cur-=lengths-chosenChild.length,i=9999)}range.setStart(chosenChild,cur),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),el.focus()}var config,format,placeholder,newVa,self=this,deleteVal=-1,controlKey=0,keyDowned="";self.init=function(element,config,form,ngControl){self.element=element,self.config=config,self.form=form,self.ngControl=ngControl,loadAll()},String.prototype.replaceAt=function(index,character){return this.substr(0,index)+character+this.substr(index+character.length)},String.prototype.replaceRange=function(start,stop,value){return this.substr(0,start)+value.substr(start,stop-start)+this.substr(stop)},self.setValue=function(value,cur,force){newVa=force?value:value&&value.length!==placeholder.length?placeholder:value?value:placeholder,"DIV"===self.element[0].nodeName?self.element.html(valueToHtml(newVa)):self.element.val(newVa),cur&&cur>-1&&cur<=format.length&&setCursor(cur)},self.getValue=function(){return newVa}}),angular.module("tink.modal",[]).directive("tinkModa",[function(){return{restrict:"EA",link:function(){}}}]).provider("$modal",function(){var defaults=this.defaults={element:null},openInstance=null;this.$get=function($http,$q,$rootScope,$templateCache,$compile,$animate,$window,$controller,$injector){function fetchTemplate(template){return fetchPromises[template]?fetchPromises[template]:fetchPromises[template]=$http.get(template,{cache:$templateCache}).then(function(res){return res.data})}function fetchResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}function createModalWindow(content){var modelView=angular.element('<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"></div></div></div>');return modelView.find(".modal-content").html(content),modelView}function enterModal(model,instance){function show(){var linker=$compile(createModalWindow(instance.content)),content=linker(instance.scope,function(){});model.$element=content,bodyElement.bind("keyup",function(e){instance.scope.$apply(function(){27===e.which&&model.dismiss("esc")})}),model.$element.bind("click",function(e){var view=$(this);instance.scope.$apply(function(){e.target===view.get(0)&&model.dismiss("backdrop")})}),$animate.enter(content,bodyElement,null),openInstance={element:content,scope:instance.scope}}null!==openInstance?leaveModal(openInstance).then(function(){show()}):show()}function leaveModal(modal){bodyElement.unbind("keyup");var q=$q.defer();return null===modal&&(modal=openInstance),$animate.leave(modal.element).then(function(){openInstance=null,q.resolve("ended")}),q.promise}var linker,bodyElement=angular.element($window.document.body),$modal={},options=$modal.$options=angular.extend({},defaults),fetchPromises={};return $modal.show=function(){$modal.$element=linker(options.scope,function(){}),enterModal()},$modal.hide=function(){leaveModal()},$modal.open=function(config){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){leaveModal(null).then(function(){modalResultDeferred.resolve(result)})},dismiss:function(reason){leaveModal(null).then(function(){modalResultDeferred.reject(reason)})}},resolveIter=1;config=angular.extend({},defaults,config),config.resolve=config.resolve||{};var templateAndResolvePromise;return templateAndResolvePromise=$q.all(angular.isDefined(config.templateUrl)?[fetchTemplate(config.templateUrl)].concat(fetchResolvePromises(config.resolve)):[config.template].concat(fetchResolvePromises(config.resolve))),templateAndResolvePromise.then(function(tplAndVars){var modalScope=(config.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlConstant={};ctrlConstant.$scope=modalScope,ctrlConstant.$modalInstance=modalScope,angular.forEach(config.resolve,function(value,key){ctrlConstant[key]=tplAndVars[resolveIter++]}),config.controller&&(ctrlInstance=$controller(config.controller,ctrlConstant)),enterModal(modalInstance,{scope:modalScope,content:tplAndVars[0],windowTemplateUrl:config.template})}),modalInstance},$modal}}),angular.module("tink.sideNav",[]),angular.module("tink.sideNav").directive("tinkNavAside",["tinkApi",function(tinkApi){return{restrict:"AE",link:function(scope,elem,attr){if(tinkApi.sideNavigation&&tinkApi.sideNavToggle){var opts={};attr.autoSelect&&(opts.autoSelect="true"===attr.autoSelect);var sideNav=tinkApi.sideNavigation(elem);sideNav.init(opts),attr.toggleId&&tinkApi.sideNavToggle.register(attr.toggleId,sideNav)}}}}]),angular.module("tink.popOver",["tink.tooltip"]).directive("tinkPopover",["$q","$templateCache","$http","$compile","$timeout","$window","$rootScope",function($q,$templateCache,$http,$compile,$timeout,$window,$rootScope){return{restrict:"EA",compile:function(tElement,attrs){function haalTemplateOp(template){return fetchPromises[template]?fetchPromises[template]:fetchPromises[template]=$q.when($templateCache.get(template)||$http.get(template)).then(function(res){return angular.isObject(res)?($templateCache.put(template,res.data),res.data):res})}var fetchPromises={},theTemplate=null;return attrs.tinkPopoverTemplate&&(theTemplate=haalTemplateOp(attrs.tinkPopoverTemplate)),{post:function(scope,element,attributes){function arrowCal(placement,align){var arrowCss="arrow-";switch(placement){case"left":arrowCss+="right";break;case"right":arrowCss+="left";break;case"top":arrowCss+="bottom";break;case"bottom":arrowCss+="top"}switch(align){case"center":break;case"top":case"bottom":("right"===placement||"left"===placement)&&(arrowCss=arrowCss+"-"+align);break;case"left":case"right":("top"===placement||"bottom"===placement)&&(arrowCss=arrowCss+"-"+align)}scope.arrowPlacement=arrowCss}function popoverHtml(){var html='<div class="popover {{arrowPlacement}}"><span class="arrow"></span></div>';return html}function show(){null!==theTemplate&&theTemplate.then(function(data){if(null===isOpen){var elContent=$($compile(data)(scope)),el=$($compile(popoverHtml())(scope));el.css("position","absolute"),el.css("display","none"),elContent.insertAfter(el.find("span")),"top"===placement?el.insertBefore(element):el.insertAfter(element),calcPos(element,el,placement,align,spacing),attributes.tinkPopoverGroup&&$rootScope.$broadcast("popover-open",{group:attributes.tinkPopoverGroup,el:el}),isOpen=el}})}function hide(){null!==isOpen&&(isOpen.remove(),isOpen=null)}function placementCheck(element,popover,place,align){var pageScrollY=$window.scrollY||$window.pageYOffset,pageScrollX=$window.scrollX||$window.pageXOffset,w1=element.position().left-pageScrollX,w2=$window.innerWidth-(w1+element.outerWidth(!0)),h1=element.position().top-pageScrollY,h2=$window.innerHeight-(h1+element.outerHeight(!0)),elemOffsetX=element.position().left+element.outerWidth(!0)-pageScrollY,pW=popover.outerWidth(!0),pH=popover.outerHeight(!0),pPos=pW+elemOffsetX,procent={right:.85,left:.15,top:.15,bottom:.85,center:.5},popoverMessare={};popoverMessare.top=pH*procent[align]-element.outerHeight(!0)/2,popoverMessare.bottom=pH*(1-procent[align])-element.outerHeight(!0)/2;for(var i=0;i<place.length;i++){var placement=place[i],Ralign=null;if("left"===placement||"right"===placement){if(align&&(popoverMessare.top=pH*procent[align[i]]-element.outerHeight(!0)/2,popoverMessare.bottom=pH*(1-procent[align[i]])-element.outerHeight(!0)/2,Ralign=align[i]),(h1>popoverMessare.top||void 0===align)&&(h2>popoverMessare.bottom||void 0===align)){if("left"===placement&&w1>pW)return{place:placement,align:Ralign};if("right"===placement&&pPos>pW)return{place:placement,align:Ralign}}}else if(("top"===placement||"bottom"===placement)&&(Ralign=null,align&&(popoverMessare.left=pH*procent[align[i]]-element.outerWidth(!0)/2,popoverMessare.right=pH*(1-procent[align[i]])-element.outerWidth(!0)/2,Ralign=align[i]),(w1>popoverMessare.left||void 0===align)&&(w2>popoverMessare.right||void 0===align))){if("top"===placement&&h1>pH)return{place:placement,align:Ralign};if("bottom"===placement&&pH+h1+element.outerHeight(!0)<$window.innerHeight)return{place:placement,align:Ralign}}}return!1}function calcPos(element,el,place,align,spacing){var pageScrollY=$window.scrollY||$window.pageYOffset,pageScrollX=$window.scrollX||$window.pageXOffset,w1=element.position().left-pageScrollX,w2=$window.innerWidth-(w1+element.outerWidth(!0)),h1=element.position().top-pageScrollY,h2=$window.innerHeight-(h1+element.outerHeight(!0)),chosen={};w1>w2?(chosen.xWidth=w1,chosen.Xname="left",chosen.x=placementCheck(element,el,["left"]).place):(chosen.x=placementCheck(element,el,["right"]).place,chosen.Xname="right",chosen.xWidth=w2),h1>h2?(chosen.y=placementCheck(element,el,["top"]).place,chosen.yHeight=h1,chosen.Yname="top"):(chosen.y=placementCheck(element,el,["bottom"]).place,chosen.yHeight=h2,chosen.Yname="bottom");var qHeight=.25*$window.innerHeight;if(placementCheck(element,el,[place],[align])!==!1)chosen.place=place,chosen.align=align;else{if(qHeight>h1){var alignB;alignB=w1>w2?"right":"left",placementCheck(element,el,["bottom"],[alignB])!==!1?(chosen.preferPlacement="bottom",chosen.preferAlign=alignB):chosen.x!==!1||console.warn("tosmall screen")}else h1>qHeight&&3*qHeight>h1?(chosen.x!==!1?chosen.preferPlacement=chosen.x:chosen.y!==!1?chosen.preferPlacement=chosen.y:console.warn("to small screen"),placementCheck(element,el,[chosen.Xname],["center"])!==!1&&(chosen.preferAlign="center")):placementCheck(element,el,["top"],[chosen.Xname])!==!1?chosen.preferPlacement="top":chosen.x!==!1?chosen.preferPlacement=chosen.x:chosen.y!==!1&&(chosen.preferPlacement=chosen.y);void 0!==chosen.preferPlacement&&(chosen.place=chosen.preferPlacement),("left"===chosen.place||"right"===chosen.place)&&(chosen.align=h1>h2?"bottom":"top"),("bottom"===chosen.place||"top"===chosen.place)&&(chosen.align=w1>w2?"right":"left"),void 0!==chosen.preferAlign&&(chosen.align=chosen.preferAlign)}var pos;if(placementCheck(element,el,[chosen.place],[chosen.align]))pos=getPos(el,chosen.place,chosen.align,spacing);else{var pos1=[],pos2=["left","center","right","left","center","right","top","center","bottom","top","center","bottom"];pos1=pos1.concat(w1>w2?["left","left","left"]:["right","right","right"]),pos1=pos1.concat(h1>h2?["top","top","top"]:["bottom","bottom","bottom"]);var search=placementCheck(element,el,pos1,pos2);search!==!1?pos=getPos(el,search.place,search.align,spacing):(console.log(chosen),pos=chosen.xWidth>el.outerWidth(!0)+spacing?getPos(el,chosen.Xname,"top",spacing):getPos(el,"bottom",chosen.Xname,spacing))}pos.then(function(data){el.css("top",data.top),el.css("left",data.left),arrowCal(data.place,data.align),el.css("display","block")})}function getPos(el,placement,align,spacing){var q=$q.defer();return $timeout.cancel(timoutPos),timoutPos=$timeout(function(){var porcent={right:.85,left:.15,top:.15,bottom:.85},arrowHeight=10,arrowWidth=10,alignLeft=0,alignTop=0;"center"===align?(alignLeft=el.outerWidth(!0)/2-element.outerWidth(!0)/2,alignTop=el.outerHeight(!0)/2-element.outerHeight(!0)/2):"left"===align||"right"===align?alignLeft=el.outerWidth(!0)*porcent[align]-element.outerWidth(!0)/2:("top"===align||"bottom"===align)&&(alignTop=el.outerHeight(!0)*porcent[align]-element.outerHeight(!0)/2);var left=element.position().left-alignLeft,top=null;"top"===placement?top=element.position().top-el.outerHeight(!0)-arrowHeight-spacing:"bottom"===placement?top=element.position().top+element.outerHeight()+arrowHeight+spacing:"right"===placement?left=element.position().left+element.outerWidth(!0)+arrowWidth+spacing:"left"===placement&&(left=element.position().left-el.outerWidth(!0)-arrowWidth-spacing),("right"===placement||"left"===placement)&&(top=element.position().top-alignTop),q.resolve({top:top,left:left,place:placement,align:align})},50),q.promise}var placement=attributes.tinkPopoverPlace,align=attributes.tinkPopoverAlign,trigger="click",spacing=2,isOpen=null;"click"===trigger?element.bind("click",function(){scope.$apply(function(){null===isOpen?show():hide()})}):"hover"===trigger&&(element.bind("mouseenter",function(){show()}),element.bind("mouseleave",function(){hide()})),$(document).bind("click",function(e){var clicked=$(e.target).parents(".popover").last();isOpen&&($(e.target).get(0)!==element.get(0)||clicked.length>0)&&isOpen.get(0)!==clicked.get(0)&&$(e.target).get(0)!==isOpen.get(0)&&hide()}),attributes.tinkPopoverGroup&&scope.$on("popover-open",function(event,args){var group=args.group;group===attributes.tinkPopoverGroup&&isOpen&&$(args.el).get(0)!==isOpen.get(0)&&hide()});var timeoutResize=null;$window.addEventListener("resize",function(){null!==isOpen&&($timeout.cancel(timeoutResize),timeoutResize=$timeout(function(){calcPos(element,isOpen,placement,align,spacing)},250))},!0),$window.addEventListener("scroll",function(){null!==isOpen&&($timeout.cancel(timeoutResize),timeoutResize=$timeout(function(){calcPos(element,isOpen,placement,align,spacing)},450))},!0),arrowCal(placement,align);var timoutPos=null}}}}}]),angular.module("tink.rijkRegister",[]),angular.module("tink.rijkRegister").directive("tinkRijkRegister",["$window","safeApply",function($window,safeApply){return{restrict:"AE",controller:"tinkFormatController",require:["tinkRijkRegister","ngModel","?^form"],template:function(){var isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative;return isTouch?'<div><input type="number" step="0" pattern="[0-9]*"><div>':'<div><div id="input" class="faux-input" contenteditable="true">{{placeholder}}</div></div>'},link:function(scope,elm,attr,ctrl){function validFormat(value){return 11===value.length?value.match(/[0-9]*/g):15===value.length?value.match(/[0-9][0-9].[0-9][0-9].[0-9][0-9]-[0-9][0-9][0-9].[0-9][0-9]/g):!1}function isRRNoValid(n){if("string"!=typeof n)return!1;if(n=n.replace(/[^\d]*/g,""),11!==n.length)return!1;var checkDigit=n.substr(n.length-2,2),modFunction=function(nr){return 97-nr%97},nrToCheck=parseInt(n.substr(0,9));return modFunction(nrToCheck)===checkDigit?!0:(nrToCheck=parseInt("2"+n.substr(0,9)),modFunction(nrToCheck)===checkDigit)}function checkvalidty(value){ngControl.$setValidity("format",isRRNoValid(value)),(value===config.placeholder||""===value)&&ngControl.$setValidity("format",!0),isRequired&&(controller.getValue()===config.placeholder?(ngControl.$setValidity("required",!1),ngControl.$setValidity("format",!0)):ngControl.$setValidity("required",!0))}var controller=ctrl[0],form=ctrl[2],ngControl=ctrl[1],element=elm.find("#input"),config={format:"00.00.00-000.00",placeholder:"xx.xx.xx-xxx.xx"};ngControl.$parsers.unshift(function(value){return checkvalidty(value),value}),ngControl.$formatters.push(function(modelValue){return 11===modelValue.length&&(modelValue=modelValue.substr(0,2)+"."+modelValue.substr(2,2)+"."+modelValue.substr(4,2)+"-"+modelValue.substr(6,3)+"-"+modelValue.substr(9,2)),validFormat(modelValue)?controller.setValue(modelValue,null):(modelValue=null,ngControl.$setViewValue(modelValue)),checkvalidty(modelValue),modelValue}),element.unbind("input").unbind("keydown").unbind("change"),element.on("blur",function(){safeApply(scope,function(){var value=controller.getValue();checkvalidty(value),isRRNoValid(value)&&(ngControl.$setViewValue(value),ngControl.$render())})});var isRequired=function(){return"true"===attr.required||""===attr.required||"required"===attr.required?!0:!1}();controller.init(element,config,form,ngControl)}}}]),angular.module("tink.sortable",["ngLodash"]),angular.module("tink.sortable").directive("tinkSortableTable",["lodash","$compile","$rootScope",function(_,$compile,$rootScope){return{restrict:"E",templateUrl:"templates/tinkSortableTable.html",scope:{ngModel:"=",headers:"=?",actions:"=?",itemsPerPage:"=?"},link:function(scope){function uncheckAll(){angular.forEach(viewable,function(val){val._checked===!0&&(val._checked=!1)}),scope.hulpngModel[-1]&&(scope.hulpngModel[-1]._checked=!1)}function watch(){ngModelWatch=scope.$watch("ngModel",function(newArray,oldArray){newArray!==oldArray&&(resort(),scope.buildTable())},!0)}function handleHeaders(){angular.forEach(scope.headers,function(value){angular.isDefined(value.alias)&&null!==value.alias||(value.alias=value.field),angular.isDefined(value.visible)&&null!==value.visible||(value.visible=!0)})}function setHeader(table,keys){var header=table.createTHead(),row=header.insertRow(0);if(scope.selectedMax=keys.length-1,"function"==typeof scope.actions){var thCheck=document.createElement("th");thCheck.innerHTML=createCheckbox(-1,i,"hulp"),row.appendChild(thCheck)}for(var k=0;k<keys.length;k++)if(keys[k]&&keys[k].checked&&keys[k].visible){var val=keys[k].alias||keys[k].field,th=document.createElement("th");th.innerHTML=val,row.appendChild(th),$(th).bind("click",sorte(k)),keys[k]===scope.sorting.obj&&(1===scope.sorting.direction?$(th).addClass("sort-asc"):-1===scope.sorting.direction&&$(th).addClass("sort-desc"))}}function resort(){if(scope.sorting&&scope.sorting.obj){var sortKey=scope.sorting.obj.field;sorter(sortKey,scope.sorting.direction)}}function sorte(i){return function(){scope.sorting.obj;var key=scope.headers[i].field;scope.sorting.field===key?scope.sorting.direction=-1*scope.sorting.direction:(scope.sorting.field=key,scope.sorting.direction=1),sorter(key,scope.sorting.direction),scope.sorting.obj=scope.headers[i],scope.buildTable()}}function fullChecked(){var length=0;angular.forEach(viewable,function(val){val._checked&&(length+=1)}),scope.hulpngModel[-1]||(scope.hulpngModel[-1]={}),scope.selectedCheck=0!==length?!0:!1,scope.hulpngModel[-1]._checked=length===viewable.length?!0:!1}function createCheckbox(row,i,hulp){hulp||(hulp="");var checkbox='<div class="checkbox"><input type="checkbox" ng-change="checkChange('+row+')" ng-model="'+hulp+"ngModel["+row+']._checked" id="'+row+'" name="'+row+'" value="'+row+'"><label for="'+row+'"></label></div>';return checkbox}function setBody(table,content){for(var body=table.createTBody(),i=scope.headers.length-1;i>=0;i--)if(scope.headers[i]&&scope.headers[i].checked&&scope.headers[i].visible)for(var j=0;j<content.length;j++){var row;if(body.rows[j])row=body.rows[j];else if(row=body.insertRow(j),"function"==typeof scope.actions){var check=row.insertCell(0),index=_.findIndex(scope.ngModel,content[j]);check.innerHTML=createCheckbox(index,j)}var cell,val=content[j][scope.headers[i].field];cell=row.insertCell("function"==typeof scope.actions?1:0),cell.innerHTML=val}}function sorter(sortVal,direction){ngModelWatch(),scope.ngModel.sort(function(obj1,obj2){var obj1Val=obj1[sortVal],obj2Val=obj2[sortVal];return _.isString(obj1Val)||(obj1Val=obj1Val.toString()),_.isString(obj2Val)||(obj2Val=obj2Val.toString()),direction?direction*obj1Val.localeCompare(obj2Val):obj1Val.localeCompare(obj2Val)}),watch()}function buildPagination(){scope.showNums=[];var num=scope.pageSelected,numPages=scope.pages;6>numPages?scope.showNums=_.range(2,numPages):4>num?(scope.showNums=_.range(2,4),scope.showNums.push(-1)):scope.showNums=num>=numPages-2?[-1].concat(_.range(numPages-2,numPages)):[-1,num,-1],numPages>1&&scope.showNums.push(numPages)}var pages,viewable,ngModelWatch,aantalToShow=1;if(watch(),scope.actions instanceof Array){scope.viewActions=[];for(var i=0;i<scope.actions.length;i++){var action=scope.actions[i];scope.viewActions.push({name:action.name,callback:function(){var checked=[];angular.forEach(viewable,function(val){val._checked===!0&&checked.push(val)}),action.callback(checked,uncheckAll)}})}}if("string"==typeof scope.itemsPerPage){var items=scope.itemsPerPage.split(",");scope.itemsPerPage=[];for(var j=0;j<items.length;j++)if("*"===items[j].slice(-1)){var num=_.parseInt(items[j].substr(0,items[j].length-1));scope.perPage=num,scope.itemsPerPage.push(num)}else scope.itemsPerPage.push(_.parseInt(items[j]));scope.perPage||0===scope.itemsPerPage.length||(scope.perPage=_.parseInt(items[0]))}else scope.perPage=_.parseInt(10),scope.itemsPerPage=[10,20,50];scope.sorting={field:"",direction:1},scope.headers=[{field:"name",alias:"Voornaam",checked:!0},{field:"achternaam",alias:"Achternaam",checked:!1},{field:"adress",alias:"Adres",visible:!0,checked:!0}],handleHeaders(),scope.viewer=scope.headers,scope.checkChange=function(i){if(-1===i){var check=scope.hulpngModel[-1]._checked;angular.forEach(viewable,function(val){val._checked=check,scope.selectedCheck=check})}else scope.hulpngModel[-1]&&(scope.hulpngModel[-1]._checked=!1),fullChecked()},scope.actions=function(){},scope.hulpngModel=[],scope.numSelected=0,scope.perPageClick=function(index){scope.numSelected=index,scope.pageSelected=1,scope.buildTable()},scope.pageSelected=1,scope.setPage=function(index){index>0&&(scope.pageSelected=index,uncheckAll(),scope.buildTable())},scope.setItems=function(){scope.buildTable(),fullChecked()},aantalToShow=scope.perPage,pages=Math.ceil(scope.ngModel.length/aantalToShow),scope.pages=_.range(1,pages),scope.buildTable=function(){var table=document.createElement("table");setHeader(table,scope.headers),aantalToShow=scope.perPage,pages=Math.ceil(scope.ngModel.length/aantalToShow),scope.pages=pages;var start=(scope.pageSelected-1)*aantalToShow,stop=scope.pageSelected*aantalToShow-1;return viewable=_.slice(scope.ngModel,start,stop+1),0===viewable.length&&scope.pageSelected>1?(scope.pageSelected=scope.pageSelected-1,void scope.buildTable()):(scope.numFirst=0===scope.ngModel.length?0:start+1,scope.numLast=stop>scope.ngModel.length?scope.ngModel.length:stop+1,buildPagination(),scope.itemLength=scope.ngModel.length,setBody(table,viewable),table=$(table),table.addClass("table-interactive"),fullChecked(),$("table").replaceWith(table),void $compile($("table"))(scope))},scope.selected=-1,scope.omhoog=function(){scope.selected>0&&(scope.viewer.swap(scope.selected,scope.selected-1),scope.selected-=1),scope.buildTable()},scope.omlaag=function(){scope.selected>=0&&scope.selected<scope.viewer.length-1&&(scope.viewer.swap(scope.selected,scope.selected+1),scope.selected+=1),scope.buildTable()},scope.headerChange=function(){scope.buildTable()},Array.prototype.swap=function(a,b){var temp=this[a];this[a]=this[b],this[b]=temp},scope.buildTable(),scope.select=function(e,index){scope.selected=index,e.preventDefault(),e.stopPropagation()},scope.setFirst=function(){scope.setPage(1)},scope.setLast=function(){scope.setPage(pages)},scope.close=function(){$rootScope.$broadcast("popover-open",{group:"option-table",el:$("<div><div>")})},scope.setNext=function(){scope.pageSelected<pages&&(scope.pageSelected+=1,scope.setPage(scope.pageSelected))},scope.setPrev=function(){scope.pageSelected>1&&(scope.pageSelected-=1,scope.setPage(scope.pageSelected))}}}}]).filter("myLimitTo",[function(){return function(obj,limit){var keys=Object.keys(obj);if(keys.length<1)return[];var ret={},count=0;return angular.forEach(keys,function(key){return count>=limit?!1:(ret[key]=obj[key],void count++)}),ret}}]),angular.module("tink.timepicker",[]),angular.module("tink.timepicker").directive("tinkTimepicker",["$window",function($window){return{restrict:"AE",template:'<div class="timepicker"><input type="text" ng-model="ngModel" /><span class="timepicker-later" role="spinbutton"></span><span class="timepicker-earlier" role="spinbutton"></span></div>',require:"ngModel",replace:!0,scope:{ngModel:"&"},link:function(scope,elem,attr,ngModel){function isDateSupported(){var i=document.createElement("input");return i.setAttribute("type","date"),"text"!==i.type}var current={hour:{num:0,reset:!0,prev:-1,start:!0},min:{num:0,reset:!0,start:!0}},inputField=elem.find("input"),isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent);isNative&&isDateSupported()&&inputField.prop("type","time"),elem.bind("mousedown",function(){return!1}),elem.find(".timepicker-later").bind("click",function(){return 1===selected?addHour(1):2===selected&&addMinute(1),!1});var bindEvent=function(){inputField.unbind("input").unbind("keydown").unbind("change").unbind("click").unbind("mousedown"),inputField.keydown(function(e){var keycode=e.keyCode;return keycode>47&&58>keycode||keycode>95&&106>keycode?1===selected?handleHour(keycode):handleMinute(keycode):39===keycode&&1===selected?selectMinute(!0):37===keycode&&2===selected?selectHour(!0):38===keycode?1===selected?addHour(1):2===selected&&addMinute(1):40===keycode&&(1===selected?addHour(-1):2===selected&&addMinute(-1)),9!==keycode?!1:void 0})};elem.find(".timepicker-earlier").bind("click",function(){return 1===selected?addHour(-1):2===selected&&addMinute(-1),!1}),isNative&&isDateSupported()?inputField.val("00:00:00"):bindEvent();var keycodeMapper={},mapKeycodes=function(){for(var hulp=0,i=48;57>=i;i++)keycodeMapper[i]=hulp,hulp++;hulp=0;for(var j=96;105>=j;j++)keycodeMapper[j]=hulp,hulp++};mapKeycodes();var handleHour=function(key){var num=keycodeMapper[key];current.hour.reset&&(current.hour.num=0,current.hour.prev=-1,current.hour.reset=!current.hour.reset),current.hour.start=!1,scope.setHour(num)},selectHour=function(reset){isNative&&isDateSupported()||inputField[0].setSelectionRange(0,2),selected=1,current.hour.reset=reset,current.min.reset=!1},selectMinute=function(reset){isNative&&isDateSupported()||inputField[0].setSelectionRange(3,5),selected=2,current.min.reset=reset,current.hour.reset=!1};scope.setHour=function(num){var select=2,firstNumber=parseInt(hourString()[0]),lastNumber=parseInt(hourString()[1]);2>lastNumber?(current.hour.num=10*lastNumber+num,select=-1!==current.hour.prev?2:0!==firstNumber?2:1):2===lastNumber?(current.hour.num=4>num?10*lastNumber+num:num,select=2):(current.hour.num=num,select=2),current.hour.prev=num,setValue(select)};var hourString=function(){return current.hour.start?"--":("0"+current.hour.num).slice(-2)},minString=function(){return current.min.start?"--":("0"+current.min.num).slice(-2)};scope.setMinute=function(num){var lastNumber=parseInt(minString()[1]);isNaN(lastNumber)||0===lastNumber||lastNumber>5?current.min.num=num:6>lastNumber&&(current.min.num=10*lastNumber+num),setValue(2)};var setValue=function(select){if(isNative&&isDateSupported()){var timeStr=hourString()+":"+minString()+":00";timeStr.replace("-","0"),ngModel.$setViewValue(timeStr)}else ngModel.$setViewValue(hourString()+":"+minString());ngModel.$render(),1===select?selectHour():2===select&&selectMinute(),current.hour.start||current.min.start?ngModel.$setValidity("time",!1):ngModel.$setValidity("time",!0)},handleMinute=function(key){var num=keycodeMapper[key];current.min.start=!1,scope.setMinute(num)},selected=-1,getHourOffset=function(){var padding=parseInt(inputField.css("padding-left"),10);return padding+inputField.val().substr(0,2).width(inputField.css("font"),inputField.css("padding"))+2},getMinOffset=function(){return getHourOffset()+inputField.val().substr(3,2).width(inputField.css("font"),inputField.css("padding"))+2},pollyOffset=function(e){var target=e.target||e.srcElement,style=target.currentStyle||window.getComputedStyle(target,null),borderLeftWidth=parseInt(style.borderLeftWidth,10),rect=target.getBoundingClientRect(),offsetX=e.clientX-borderLeftWidth-rect.left;return offsetX};inputField.bind("mousedown",function(evt){var offset=pollyOffset(evt);return offset<getHourOffset()||offset>getMinOffset()?(selectHour(!0),selected=1):(selectMinute(!0),selected=2),inputField.focus(),!1}),String.prototype.width=function(font,padding){var f=font||"15px arial",p=padding||"",o=$("<div>"+this+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden",font:f,padding:p}).appendTo($("body")),w=o.width();return o.remove(),w};var addMinute=function(size){current.min.start=!1;var newMin=current.min.num+size;newMin>0&&60>newMin?current.min.num=newMin:newMin>=60||0>newMin?(addHour(Math.floor(newMin/60)),current.min.num=0>newMin%60?60+newMin%60:newMin%60):current.min.num=0,setValue(2)},clearSelection=function(){isNative&&isDateSupported()||inputField[0].setSelectionRange(0,0)},addHour=function(size){current.hour.start=!1;var newHour=current.hour.num+size;current.hour.num=newHour>0&&24>newHour?newHour:0>newHour?24+newHour:0,setValue(1),current.hour.reset=!0},reset=function(){current={hour:{num:0,reset:!0,prev:-1,start:!0},min:{num:0,reset:!0,start:!0}},ngModel.$setValidity("time",!1),setValue()};scope.$watch("ngModel",function(newVal){var date=null,hour=null,minute=null;date="function"==typeof newVal?newVal():newVal,angular.isDate(date)?(hour=date.getHours(),minute=date.getMinutes()):"string"==typeof date&&date.length>=5?/^([01]\d|2[0-3]):?([0-5]\d)$/.test(date.substr(0,5))&&(hour=parseInt(date.substr(0,2)),minute=parseInt(date.substr(3,2))):reset(),hour&&minute&&(current.hour.start=!1,current.hour.num=hour,current.min.start=!1,current.min.num=minute,setValue())}),ngModel.$formatters.unshift(function(modelValue){var date=modelValue;if(angular.isDate(date)){var hour=date.getHours(),minute=date.getMinutes();hour&&minute&&(current.hour.start=!1,scope.setHour(hour),current.min.start=!1,scope.setMinute(minute),clearSelection())}else reset()}),ngModel.$parsers.push(function(time){inputField.val(time);var hour=parseInt(time.substr(0,2)),minute=parseInt(time.substr(3,2));if(hour&&minute){var date=new Date;return date.setHours(hour),date.setMinutes(minute),date}})}}}]),angular.module("tink.sideNav").directive("tinkSidenavCollapse",["tinkApi",function(tinkApi){return{restrict:"A",link:function(scope,elem,attr){tinkApi.sideNavigation&&tinkApi.sideNavToggle&&elem.bind("click",function(){return attr.tinkSidenavCollapse&&""!==attr.tinkSidenavCollapse.trim()?(tinkApi.sideNavToggle.toggleById(attr.tinkSidenavCollapse),!1):void 0})}}}]),angular.module("tink.tooltip",[]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};
this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" content="'+startSym+"content"+endSym+'" placement="'+startSym+"placement"+endSym+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){(!hasEnableExp||scope.$eval(attrs[prefix+"Enable"]))&&(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),ttScope.content?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),appendToBody?$document.find("body").append(tooltip):element.after(tooltip),positionTooltip(),ttScope.isOpen=!0,ttScope.$digest(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,angular.noop)}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPlacement(),prepPopupDelay()}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:!1,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),positionTooltip=function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)};ttScope.isOpen=!1,attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!==$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]).directive("tinkTooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip.html"}}).directive("tinkTooltip",["$tooltip",function($tooltip){return $tooltip("tinkTooltip","tooltip","mouseenter")}]).directive("tinkTooltipHtmlUnsafePopup",function($sce){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip.html",link:function($scope){$scope.content=$sce.trustAsHtml($scope.content)}}}).directive("tinkTooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tinkTooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("tink.topNav",[]),angular.module("tink.topNav").directive("tinkTopNav",["$document","$window","tinkApi",function($document,$window,tinkApi){return{restrict:"AE",priority:99,link:function(scope,elem){tinkApi.sideNavigation&&tinkApi.sideNavToggle&&tinkApi.topNavigation(elem).init()}}}]),angular.module("tink.validDate",["tink.dateHelper","tink.safeApply"]).directive("tinkValidDate",["$timeout","$filter","dateCalculator","safeApply","$window",function($timeout,$filter,dateCalculator,safeApply,$window){return{require:"ngModel",priority:99,link:function($scope,$element,$attrs,ctrl){function checkForValid(viewValue){return ctrl.$setValidity("date",validFormat(viewValue,format)),viewValue}function validFormat(date,format){var dateObject;if(angular.isDefined(date)&&null!==date){if("string"==typeof date){if(10!==date.length)return!1;if(!isTouch&&!/^(?:(?:31(\/)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/.test(date))return!1;dateObject=dateCalculator.getDate(date,format)}else{if(!angular.isDate(date))return"function"==typeof date?validFormat(date(),format):!1;dateObject=date}return"Invalid Date"!==dateObject.toString()}}var isNative=/(ip(a|o)d|iphone|android)/gi.test($window.navigator.userAgent),isTouch="createTouch"in $window.document&&isNative,prevVal="",format=$attrs.format;isTouch&&(format="yyyy-mm-dd"),$element.unbind("input").unbind("keydown").unbind("change"),$element.bind("blur",function(){safeApply($scope,function(){validFormat($element.val(),format)?(checkForValid($element.val(),format),prevVal=$element.val(),ctrl.$setViewValue($element.val())):ctrl.$setViewValue(void 0)})}),$element.bind("input change",function(){safeApply($scope,function(){!validFormat($element.val(),format)})}),ctrl.$formatters.push(checkForValid),ctrl.$parsers.unshift(checkForValid)}}}]),angular.module("tink",["tink.tinkApi","tink.datepickerRange","tink.popOver","tink.tooltip","tink.datepicker","tink.topNav","tink.sideNav","tink.dropdown","tink.templates","tink.validDate","tink.format","tink.timepicker","tink.accordion","tink.rijkRegister","tink.dropupload","angularFileUpload","tink.sortable","tink.modal"]),angular.module("tink.tinkApi",[]),angular.module("tink.tinkApi").provider("tinkApi",function(){var _options={};return{setOptions:function(options){angular.extend(_options,options)},getOptions:function(){return angular.copy(_options)},$get:["$window",function($window){var sideToggle={};return{sideNavigation:$window.tinkApi.sideNavigation,sideNavToggle:{register:function(id,sideElem){sideToggle[id]=sideElem},toggleById:function(id){sideToggle[id]&&sideToggle[id].toggleMenu()},closeById:function(id){sideToggle[id]&&sideToggle[id].closeMenu()},openById:function(id){sideToggle[id]&&sideToggle[id].openMenu()}},topNavigation:$window.tinkApi.topNavigation,accordion:$window.tinkApi.accordion}}]}}),angular.module("tink.dateHelper",[]),angular.module("tink.dateHelper").factory("dateCalculator",function(){function stringToDate(_date,_format){var _delimiter;-1!==_format.indexOf("/")?_delimiter="/":-1!==_format.indexOf("-")?_delimiter="-":-1!==_format.indexOf(".")&&(_delimiter=".");var formatLowerCase=_format.toLowerCase(),formatItems=formatLowerCase.split(_delimiter),dateItems=_date.split(_delimiter),monthIndex=formatItems.indexOf("mm"),dayIndex=formatItems.indexOf("dd"),yearIndex=formatItems.indexOf("yyyy"),month=parseInt(dateItems[monthIndex]);month-=1;var formatedDate=new Date(dateItems[yearIndex],month,dateItems[dayIndex]);if(month>11)return null;var lastDayOfMonth=new Date(dateItems[yearIndex],month+1,0);return dateItems[dayIndex]>lastDayOfMonth.getDate()?null:formatedDate}var nl={DAY:["Zondag","Maandag","DinsDag","Woensdag","Donderdag","Vrijdag","Zaterdag"],MONTH:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],SHORTDAY:["Zo","Ma","Di","Wo","Do","Vr","Za"],SHORTMONTH:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]},dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val};return function(date,mask,utc,lang){var dF=dateFormat;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(date)||/\d/.test(date)||(mask=date,date=void 0),date=date?new Date(date):new Date,isNaN(date))throw new SyntaxError("invalid date");mask=String(dF.masks[mask]||mask||dF.masks["default"]).toLowerCase(),"UTC:"===mask.slice(0,4)&&(mask=mask.slice(4),utc=!0);var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:lang.SHORTDAY[D],dddd:lang.DAY[D],m:m+1,mm:pad(m+1),mmm:lang.SHORTMONTH[m],mmmm:lang.MONTH[m],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:12>H?"a":"p",tt:12>H?"am":"pm",T:12>H?"A":"P",TT:12>H?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!==10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1)})}}();return dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"dd/mm/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},{dateBeforeOther:function(first,last){var firstDate=new Date(first),lastDate=new Date(last);return firstDate.setHours(0,0,0,0),lastDate.setHours(0,0,0,0),firstDate>=lastDate&&null!==lastDate?!0:!1},splitRow:function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},daysBetween:function(first,last){return Math.round(Math.abs((first.getTime()-last.getTime())/864e5))},isSameDate:function(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getTime()===b.getTime()):!1},isSameMonth:function(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()):!1},getDate:function(date,format){return angular.isDefined(date)&&angular.isDefined(format)&&""!==date.trim()?(date=stringToDate(date,format),null!==date&&"Invalid Date"!==date.toString()?date:null):null},daysInMonth:function(month,year){return angular.isDate(month)?new Date(month.getYear(),month.getMonth()+1,0).getDate():new Date(year,month,0).getDate()},daysInMonthNodays:function(month,year){return new Date(year,month,0).getDate()},format:function(date,format){return null===date||void 0===date||""===date?null:dateFormat(date,format,null,nl)},formatDate:function(date,format){return dateFormat(date,format,null,nl)},getShortDays:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.SHORTDAY}},getShortMonths:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.SHORTMONTH}},getDays:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.DAY}},getMonths:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.MONTH}}}}).factory("safeApply",[function(){return function($scope,fn){var phase=$scope.$root.$$phase;"$apply"===phase||"$digest"===phase?fn&&$scope.$eval(fn):fn?$scope.$apply(fn):$scope.$apply()}}]).factory("calView",["dateCalculator",function(dateCalculator){function isSameDate(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getTime()===b.getTime()):!1}function inRange(date,first,last){return angular.isDate(first)&&angular.isDate(last)&&angular.isDate(date)?(date.setHours(0,0,0,0),first.setHours(0,0,0,0),last.setHours(0,0,0,0),date>first&&last>date?!0:!1):!1}function mod(n,m){return(n%m+m)%m}function callCullateData(date){var year=date.getFullYear(),month=date.getMonth(),firstDayOfMonth=new Date(year,month,1),firstDayOfWeek=new Date(+firstDayOfMonth-864e5*mod(firstDayOfMonth.getDay()-1,7)),offsetDayOfMonth=firstDayOfMonth.getTimezoneOffset(),offsetDayOfweek=firstDayOfWeek.getTimezoneOffset();offsetDayOfMonth!==offsetDayOfweek&&(firstDayOfWeek=new Date(+firstDayOfWeek+6e4*(offsetDayOfweek-offsetDayOfMonth)));var daysToDraw=dateCalculator.daysInMonth(date)+dateCalculator.daysBetween(firstDayOfWeek,firstDayOfMonth);return daysToDraw%7!==0&&(daysToDraw+=7-daysToDraw%7),{days:daysToDraw,firstDay:firstDayOfWeek}}function split(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays}function daysInRows(date,selectedDate,before,after){for(var day,monthCall=callCullateData(date),today=new Date,days=[],i=0;i<monthCall.days;i++){day=new Date(monthCall.firstDay.getFullYear(),monthCall.firstDay.getMonth(),monthCall.firstDay.getDate()+i);var isMuted=!1;day.getMonth()!==date.getMonth()&&(isMuted=!0);var isSelected=!1;angular.isDate(selectedDate)&&(isSelected=selectedDate.toDateString()===day.toDateString());var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(day,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,day)&&(disable=!0),days.push({date:day,selected:isSelected,isToday:day.toDateString()===today.toDateString(),label:dateCalculator.formatDate(day,"d"),isMuted:isMuted,disabled:disable})}var arrays=split(days,7);return arrays}function monthInRows(date,before,after){var monthDate,months=[];angular.isDefined(before)&&null!==before&&(before=new Date(before.getFullYear(),before.getMonth(),1)),angular.isDefined(after)&&null!==after&&(after=new Date(after.getFullYear(),after.getMonth(),1));for(var i=0;12>i;i++){monthDate=new Date(date.getFullYear(),i,1);var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(monthDate,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,monthDate)&&(disable=!0),months.push({date:monthDate,label:dateCalculator.formatDate(monthDate,"mmm"),disabled:disable})}var arrays=split(months,4);return arrays}function yearInRows(date,before,after){var yearDate,years=[];angular.isDefined(before)&&null!==before&&(before=new Date(before.getFullYear(),date.getMonth(),1)),angular.isDefined(after)&&null!==after&&(after=new Date(after.getFullYear(),date.getMonth(),1));for(var i=11;i>-1;i--){yearDate=new Date(date.getFullYear()-i,date.getMonth(),1);var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(yearDate,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,yearDate)&&(disable=!0),years.push({date:yearDate,label:dateCalculator.formatDate(yearDate,"yyyy"),disabled:disable})}var arrays=split(years,4);return arrays}function createLabels(date,firstRange,lastRange,grayed,before,after){var label="",cssClass="";if(null!==label&&angular.isDate(date)){label=date.getDate(),grayed&&(cssClass="btn-grayed"),isSameDate(date,firstRange)||isSameDate(date,lastRange)?cssClass=grayed?"btn-grayed-selected-clicked":"btn-selected-clicked":inRange(date,firstRange,lastRange)?cssClass=grayed?"btn-grayed-selected":"btn-selected":isSameDate(date,new Date)&&(cssClass=grayed?"btn-grayed":"btn-today");var disable="";angular.isDate(before)&&!dateCalculator.dateBeforeOther(date,before)&&(disable="disabled"),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,date)&&(disable="disabled");var month=("0"+(date.getMonth()+1)).slice(-2),day=("0"+date.getDate()).slice(-2);return"<td><button "+disable+" ng-click=\"$select('"+date.getFullYear()+"/"+month+"/"+day+'\')" class="btn '+cssClass+'"><span>'+label+"</span></button></td>"}return"<td></td>"}return{createMonthDays:function(date,firstRange,lastRange,control,before,after){for(var label,domElem="",monthCall=callCullateData(date),tr="<tr>",i=0;i<monthCall.days;i++){var day=new Date(monthCall.firstDay.getFullYear(),monthCall.firstDay.getMonth(),monthCall.firstDay.getDate()+i);label=createLabels(null,firstRange,lastRange,!1,before,after),"prevMonth"===control?day.getMonth()!==date.getMonth()&&dateCalculator.dateBeforeOther(date,day)&&(label=createLabels(day,firstRange,lastRange,!0,before,after)):"nextMonth"===control&&day.getMonth()!==date.getMonth()&&dateCalculator.dateBeforeOther(day,date)&&(label=createLabels(day,firstRange,lastRange,!0,before,after)),day.getMonth()===date.getMonth()&&(label=createLabels(day,firstRange,lastRange,!1,before,after)),tr+=label,(i+1)%7===0&&(tr+="</tr>",domElem+=tr,tr="<tr>")}return domElem='<tbody id="secondCal">'+domElem+"</tbody>"},daysInRows:function(date,model,before,last){return daysInRows(date,model,before,last)},monthInRows:function(date,before,last){return monthInRows(date,before,last)},yearInRows:function(date,before,last){return yearInRows(date,before,last)}}}]),angular.module("tink.safeApply",[]).factory("safeApply",[function(){return function($scope,fn){var phase=$scope.$root.$$phase;"$apply"===phase||"$digest"===phase?fn&&$scope.$eval(fn):fn?$scope.$apply(fn):$scope.$apply()}}]),angular.module("tink.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/popover.html",'<header class=popover-header> <img class="popover-header-avatar img-circle" src=https://pbs.twimg.com/profile_images/1206647652/9b7a61b0-fffc-4e3d-8656-ad52b1491c05_400x400.jpg alt="Avatar of Tom Hermans"> <h1 class=popover-header-title>Tom Hermans</h1> </header>  <ul class=popover-list-buttons> <li> <a href=""><span>List Item 01</span></a> </li> <li> <a href=""><span>List Item 02</span></a> </li> <li> <a href=""><span>List Item 03</span></a> </li> <li> <a href=""><span>List Item 04</span></a> </li> </ul>'),$templateCache.put("templates/tinkAccordionGroup.html",'<section class=accordion-panel> <a href class=accordion-toggle ng-click=toggleOpen()> <div class=accordion-panel-heading> <i class="fa fa-th-large"></i> <h4 class=panel-title> <span>{{heading}}</span> </h4> </div> </a> <div class=accordion-panel-body> <div class=accordion-loaded-content ng-transclude> <p>New DOM content comes here</p> </div> </div> </section>'),$templateCache.put("templates/tinkDatePicker.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode"> <table style="table-layout: fixed; height: 100%; width: 100%"> <thead> <tr class=text-center> <th> <button tabindex=-1 type=button ng-disabled=pane.prev class="btn pull-left" ng-click=$selectPane(-1)> <i class="fa fa-chevron-left"></i> </button> </th> <th colspan="{{ rows[0].length - 2 }}"> <button tabindex=-1 type=button class="btn btn-block text-strong" ng-click=$toggleMode()> <strong style="text-transform: capitalize" ng-bind=title></strong> </button> </th> <th> <button tabindex=-1 type=button ng-disabled=pane.next class="btn pull-right" ng-click=$selectPane(+1)> <i class="fa fa-chevron-right"></i> </button> </th> </tr> <tr ng-show=showLabels class=datepicker-days ng-bind-html=labels></tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"> <td class=text-center ng-repeat="(j, el) in row"> <button tabindex=-1 type=button class=btn style="width: 100%" ng-class="{\'btn-selected\': el.selected, \'btn-today\': el.isToday && !el.elected}" ng-click=$select(el.date) ng-disabled=el.disabled> <span ng-class="{\'text-muted\': el.muted}" ng-bind=el.label></span> </button> </td> </tr> </tbody> </table> </div>'),$templateCache.put("templates/tinkDatePickerField.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode"> <table style="table-layout: fixed; height: 100%; width: 100%"> <thead> <tr class=text-center> <th> <button tabindex=-1 type=button ng-disabled=pane.prev class="btn pull-left" ng-click=$selectPane(-1)> <i class="fa fa-chevron-left"></i> </button> </th> <th colspan="{{ rows[0].length - 2 }}"> <button tabindex=-1 type=button class="btn btn-block text-strong" ng-click=$toggleMode()> <strong style="text-transform: capitalize" ng-bind=title></strong> </button> </th> <th> <button tabindex=-1 type=button ng-disabled=pane.next class="btn pull-right" ng-click=$selectPane(+1)> <i class="fa fa-chevron-right"></i> </button> </th> </tr> <tr class=datepicker-days ng-bind-html=labels></tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"> <td class=text-center ng-repeat="(j, el) in row"> <button tabindex=-1 type=button class=btn style="width: 100%" ng-class="{\'btn-selected\': el.selected, \'btn-today\': el.isToday && !el.elected}" ng-click=$select(el.date) ng-disabled=el.disabled> <span ng-class="{\'text-muted\': el.muted}" ng-bind=el.label></span> </button> </td> </tr> </tbody> </table> </div>'),$templateCache.put("templates/tinkDatePickerInput.html",'<div class=datepicker-input-fields> <input tink-format-input data-format=00/00/0000 data-placeholder=dd/mm/jjjj data-date dynamic-name=dynamicName data-max-date=maxDate data-min-date=minDate ng-model="ngModel">\n<span class=datepicker-icon> <i class="fa fa-calendar"></i> </span> </div>'),$templateCache.put("templates/tinkDatePickerRange.html",'<div class=datepickerrange> <div class="pull-left datepickerrange-left"> <div class=datepickerrange-header-left> <div class=pull-left> <button tabindex=-1 type=button class="btn pull-left" ng-click=$selectPane(0)> <i class="fa fa-chevron-left"></i> </button> </div> <div class="text-center clearfix"> <label ng-bind=firstTitle></label> </div> </div> <div class=table-responsive> <table> <thead> <tr class=datepicker-days ng-bind-html=dayLabels> </tr> </thead> <tbody id=firstCal ng-bind-html=firstCal> </tbody> </table> </div> </div> <div class="pull-right datepickerrange-right"> <div class=datepickerrange-header-right> <div class=pull-right> <button tabindex=-1 type=button class="btn pull-left" ng-click=$selectPane(1)> <i class="fa fa-chevron-right"></i> </button> </div> <div class="text-center clearfix"> <label ng-bind=lastTitle></label> </div> </div> <div class=table-responsive> <table> <thead> <tr class=datepicker-days ng-bind-html=dayLabels></tr> </thead> <tbody id=secondCal ng-bind-html=secondCal> </tbody> </table> </div> </div> </div>'),$templateCache.put("templates/tinkDatePickerRangeInputs.html",'<div class="datepicker-input-fields row no-gutter"> <div class=col-sm-6> <input id=firstDateElem class=elem-one data-date data-format=00/00/0000 data-placeholder=dd/mm/jjjj tink-format-input ng-model=firstDate valid-name=first>\n<span class=datepicker-icon> <i class="fa fa-calendar"></i> </span> </div> <div class=col-sm-6> <input id=lastDateElem class=elem-two data-date data-format=00/00/0000 data-placeholder=dd/mm/jjjj tink-format-input ctrl-model=dynamicName valid-name=last ng-model=lastDate>\n<span class=datepicker-icon> <i class="fa fa-calendar"></i> </span> </div> </div>'),$templateCache.put("templates/tinkSortableTable.html",' <table></table> <button tink-popover tink-popover-group=option-table tink-popover-template=templates/tinkTableShift.html>Option</button> <div ng-if="viewActions && selectedCheck === true"> <button tink-popover tink-popover-template=templates/tinkTableAction.html>Actions</button> </div> <div class=table-sort-options> <div class=table-sort-info> <strong>{{numFirst}} - {{numLast}}</strong> van {{itemLength}} <div class=select> <select ng-change=setItems() ng-model=perPage> <option ng-repeat="items in itemsPerPage" ng-bind=items>{{items}}</option> </select> items per pagina </div> </div> <div class=table-sort-pagination> <ul class=pagination> <li class=prev ng-class="{disabled:pageSelected===1}" ng-click=setPrev()><a href="" tabindex=-1><span>Vorige</span></a></li> <li ng-class="{active:pageSelected===1}" ng-click=setFirst()><a href="">1</a></li> <li ng-repeat="pag in showNums track by $index" ng-class="{active:pag===pageSelected}" ng-click=setPage(pag)><a href="" ng-if="pag !== -1">{{pag}}</a> <span ng-show="pag === -1">...<span></span></span></li> <li class=next ng-click=setNext() ng-class="{disabled:pageSelected===pages}"><a href=""><span>Volgende</span></a></li> </ul> </div> </div> <br> <br>'),$templateCache.put("templates/tinkTableAction.html",'<button ng-repeat="action in viewActions" ng-click=action.callback()>{{action.name}}</button>'),$templateCache.put("templates/tinkTableShift.html",' <button ng-disabled="selected<1" ng-click=omhoog()><i class="fa fa-arrow-up"> </i></button>\n<button ng-disabled="selected<0 || selected === selectedMax" ng-click=omlaag()><i class="fa fa-arrow-down"></i></button>  <ul class=table-interactive-cols> <li ng-repeat="header in viewer | filter:{ visible: true }"> <div class="checkbox is-selectable" ng-class="{selected:selected===$index}"> <input type=checkbox ng-model=header.checked ng-change=headerChange() id={{header.alias}} name={{header.alias}} value={{header.alias}} checked> <label for={{header.alias}}><span ng-class="{selected:selected===$index}" ng-click=select($event,$index)>{{header.alias}}</span></label> </div> </li>   <button class=btn-xs ng-click=close()>klaar</button></ul>'),$templateCache.put("templates/tinkUpload.html",'<div class=upload> <div class=upload-zone> <div data-ng-mouseup=browseFiles($event)> <strong translate>Sleep hier een bestand</strong> <span translate>of klik om te bladeren</span>\n<input data-ng-if=multiple class=upload-file-input name={{fieldName}} type=file data-ng-file-select=onFileSelect($files) multiple>\n<input data-ng-if=!multiple class=upload-file-input name={{fieldName}} type=file data-ng-file-select="onFileSelect($files)"> </div> <span class=help-block data-ng-transclude>Toegelaten bestanden: jpg, gif, png, pdf. Maximum grootte: 2MB</span> </div> <p class=upload-file-change data-ng-if=message.hold>De vorige file werd vervangen. <a data-ng-mouseup=undo($event)>Ongedaan maken.</a></p> <ul class=upload-files> <li data-ng-repeat="file in files track by $index" data-ng-class="{\'success\': !file.error && file.getProgress() === 100, \'error\': file.error}"> <span class=upload-filename>{{file.getFileName()}}</span>\n<span class=upload-fileoptions> <button class=upload-btn-delete data-ng-click=del($index) data-ng-if="file.getProgress() === 100 || file.error"><span class=sr-only>Verwijder</span></button>\n<span class=upload-feedback data-ng-if="!file.error && file.getProgress() !== 100">{{file.getProgress()}}%</span> </span>\n<span class=upload-error data-ng-if=file.error> <span data-ng-if=file.error.type>Dit bestandstype is niet toegelaten.</span>\n<span data-ng-if=file.error.size>Dit bestand overschrijdt de toegelaten bestandsgrootte.</span>\n<span data-ng-if="!file.error.type && !file.error.size">Er is een fout opgetreden bij het uploaden. Probeer het opnieuw.</span> </span>\n<span class=upload-progress style="width: {{file.getProgress()}}%"></span> </li> </ul> </div>'),$templateCache.put("templates/tooltip.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }"> <div class=tooltip-arrow></div> <div class=tooltip-inner ng-bind=content></div> </div>')}]),angular.module("tink.dropupload").factory("UploadFile",["$q","tinkUploadService",function($q,tinkUploadService){var upload=null,uploudFile=function(data,uploaded){if(!data instanceof window.File)throw"uploadFile was no file object!";this.fileData=data,this.fileData&&(this.fileName=this.fileData.name,this.fileType=this.fileData.type,this.fileSize=this.fileData.size),this.progress=uploaded?100:0};return uploudFile.prototype.getFileName=function(){return this.fileName},uploudFile.prototype.getData=function(){return this.fileData},uploudFile.prototype.getProgress=function(){return this.progress},uploudFile.prototype.getFileSize=function(){return this.fileSize},uploudFile.prototype.getFileExtension=function(){var posLastDot=this.getFileName().lastIndexOf(".");return this.getFileName().substring(posLastDot,this.getFileName().length)},uploudFile.prototype.getFileMimeType=function(){return this.fileType
},uploudFile.prototype.cancel=function(){null!==upload&&upload.abort()},uploudFile.prototype.upload=function(options){var scope=this,promise=$q.defer();return upload=tinkUploadService.upload(this,options).progress(function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);isNaN(progressPercentage)&&(progressPercentage=0),scope.progress=progressPercentage,promise.notify({progress:progressPercentage,object:scope})}).success(function(){promise.resolve(scope)}).error(function(){promise.reject(scope)}),promise.promise},uploudFile.prototype.remove=function(){console.log("file removed")},uploudFile}]),angular.module("tink.dropupload").provider("tinkUploadService",["lodash",function(_){var urls={};return{$get:function($upload){return{upload:function(file,options){if(file.getData()instanceof window.File){var fileMime=file.getFileMimeType(),sendUrl="";if(urls[fileMime])sendUrl=urls[fileMime];else{if(!urls.all)throw"no All url is set ! in uploadservice";sendUrl=urls.all}var data=angular.extend({},{url:sendUrl,file:file.getData()},options);return $upload.upload(data)}throw"No instanceof uploadfile"},remove:function(file){file.getData()instanceof window.File},addUrls:function(url,type){if(void 0===type||null===type||""===type)type="all",urls[type]=url;else if(_.isArray(type))for(var i=0;i<type.length;i++)urls[type[i]]=url;else"string"==typeof type&&(urls[type]=url)}}}}}]);